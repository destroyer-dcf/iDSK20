FROM arm64v8/ubuntu:20.04

# Evitar prompts interactivos
ENV DEBIAN_FRONTEND=noninteractive

# Instalar herramientas de compilaci√≥n
RUN apt-get update && apt-get install -y \
    build-essential \
    cmake \
    && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace

# Comando por defecto para compilar
CMD ["sh", "-c", "mkdir -p build-linux-arm64 && cd build-linux-arm64 && cmake .. && make -j$(nproc) && cp iDSK20 ../dist/linux-arm64/ || echo 'Error compilando Linux ARM64'"]